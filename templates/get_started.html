<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
 

  <title>Get Started</title>
   <link rel="icon" type="image/x-icon" href="https://basket-boost-website.kusumpareek.repl.co/static/9.png">
  <style>
      .circular-video {
      width: 300px;
      height: 300px;
      border-radius: 50%;
      overflow: hidden;
      position: relative;
    }

    .circular-video video {
      width: 100%;
      height: auto;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  {% include 'navbar.html' %}

  <div class="container">
    <div class="row">
      <div class="col-2"> {% include 'sidebar.html' %}</div>
      <div class="col-7 pt-4">
        <h1 class='display-5 pb-4 '>
        Choose a Dataset from your device and upload here
    </h1>
 
     {% include 'loader.html' %}
          {% if Message %}
        <p class='alert alert-success'>{{ message }}</p>
    {% endif %}
  <form id="upload-form" action="/upload" method="POST" enctype="multipart/form-data">
    <div class="mb-3 mt-4">
      <label for="file-input">Upload CSV File: </label>
    <input  id="file-input" type="file" name="file" accept=".csv" required>
    </div>

<div class="mb-3">
   <input type="submit" class="btn btn-dark" value="Upload">
</div>
   
    {% if error %}
        <p class="text-danger lead"><b>{{error}} Error uploading the file.Make sure to choose .csv format only</b></p>
    {% endif %}
    <!-- <div id="column-checkboxes">
        <h3>Upload your file to see available columns</h3>
      </div> -->
      <br>
     
  </form>
    </div>
      <div class="circular-video col-3 mt-3">
        <video class='mt-8' width="320" height="240" autoplay loop>
  <source src="static/file-upload.mp4" type="video/mp4">
  
  Your browser does not support the video tag.
</video>
      </div>
    </div>
    
</div>
<!-- <script>

  
    const fileInput = document.getElementById('file-input');
    const uploadForm = document.getElementById('upload-form');
    const columnCheckboxes = document.getElementById('column-checkboxes');

    fileInput.addEventListener('change', function() {
      const file = fileInput.files[0];
      const fileReader = new FileReader();

      fileReader.onload = function(e) {
        const contents = e.target.result;
        const columns = getCSVColumns(contents);
        renderColumnCheckboxes(columns);
      };

      fileReader.readAsText(file);
    });

    function getCSVColumns(csvContents) {
      const lines = csvContents.split('\n');
      const headerLine = lines[0];
      return headerLine.split(',');
    }

    function renderColumnCheckboxes(columns) {
      columnCheckboxes.innerHTML = '';
      for (let column of columns) {
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.name = 'selected_columns';
        checkbox.value = column;

        const label = document.createElement('label');
        label.textContent = column;

        columnCheckboxes.appendChild(checkbox);
        columnCheckboxes.appendChild(label);
        columnCheckboxes.appendChild(document.createElement('br'));
      }

      const submitButton = document.createElement('input');
      submitButton.type = 'submit';
      submitButton.value = 'Clean Data';

      uploadForm.appendChild(submitButton);
      submitButton.disabled = false;
    }
  </script> -->
  {% include 'footer.html' %}
     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
</body>
</html>